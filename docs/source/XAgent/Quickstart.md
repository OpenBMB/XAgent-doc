
# üõ†Ô∏è Build and Setup ToolServer

ToolServer is where XAgent's action takes place. It is a docker container that provides a safe environment for XAgent to run.
So you should install `docker` and `docker-compose` first. 
After that, you should build the docker image for ToolServer and start the docker container.
```bash
docker-compose build
docker-compose up
```

# üéÆ Setup and Run XAgent

After setting up ToolServer, you can start to run XAgent.
- Install requirements (Require Python >= 3.10)
```bash
pip install -r requirements.txt
```

## Configure XAgent

1. You should configure XAgent in `assets/config.yml` before running it. 
2. At least one OpenAI key is provided in `assets/config.yml`, which is used to access OpenAI API.
We highly recommend using `gpt-4-32k` to run XAgent; `gpt-4` is also OK for most simple tasks.
In any case, at least one `gpt-3.5-turbo-16k` API key should be provided as a backup model.
We do not test or recommend using `gpt-3.5-turbo` to run XAgent due to minimal context length; you should not try to run XAgent on that.
3. If you want to change the config_file path for `XAgentServer`, you should modify the `CONFIG_FILE` value in `.env` file and restart the docker container.


## Run XAgent

```bash
python run.py --task "put your task here" --model "gpt-4" --config_file "assets/config.yml"
```
1. You can use the argument `--upload_files` to select the initial files you want to submit to XAgent.

2. The local workspace for your XAgent is in `local_workspace`, where you can find all the files generated by XAgent throughout the running process. 

3. After execution, the entire `workspace` in `ToolServerNode` will be copied to `running_records` for your convenience.

4. Besides, in `running_records`, you can find all the intermediate steps information, e.g., task statuses, LLM's input-output pairs, used tools, etc.

5. You can load from a record to reproduce a former run, just by setting `record_dir` in config(default to `Null`). The record is a system-level recording tied to the code version of XAgent. All running-config„ÄÅquery„ÄÅcode execution statuses (including errors)„ÄÅserver behavior will be documented.

6. We have removed all sensitive information (including API keys) from the record so you can safely share it with others. In the near future, we will introduce more granular sharing options highlighting the contributions of humans during execution.

   
## Run XAgent with GUI

```bash

# run nginx in docker
docker exec XAgent-Server systemctl start nginx
```
Build the docker image for XAgent-Server and start the docker container.
You will see the XAgent Server listening on port `8090`.
You could visit `http://localhost:5173` to interact with XAgent by using web UI.

<div><a id="Demo"></a></div>
